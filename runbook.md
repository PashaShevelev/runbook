# Runbook

## General

Описание действий, и причин получения, при LoadAverage15m

## Metric

* LoadAverage15m - показывает среднюю нагрузку на процессор за 15 минут

### Alert Title

* Alert c метрикой LoadAverage15m - средняя нагрузка на процессор за 15 минут, за определённый период времени находилась выше установленной границы

### Where it may occur

1. Пользовательское приложение

2. Внутриний продукт

3. Промежуточное приложение

### Alert level for different env

3 окружение: Dev, Test, Prod; и у каждого настроин уровень алертов

1. info
2. warning
3. critical

#### Remediation Steps for any situations

1. Заходим в графану и смотрим на каком приложении произошла ошибка и выяснить уровень алерта.
2. Если происходит info тогда не нужно ничего делать. Можно будет обсудить это на ближайшем созвоне.
3. Если происходит warning. Тогда необходимо выяснить насколько это критичная ошибка!
Если ошибка некртичная, тогда неоходимо сообщить об этом в чат команды или обсудить на созвоне, о необходимости создании таски в таск менеджере по решению этой ошибки.
4. Если возник alert уровня critical. Необходимо сообщить об этом в чате команды проекта и начать исследование инцидента, а также сообщить о том, что происходит работа над приложением.
5. Во весь период исследования необходимо следить за графиками и алертингом.
6. Посмотреть все логи о процесса запущенны на node и других ресурсов на node и проверить что это просходит не со стороны разработанного продукта. Если есть лишнии процессы то просто их убивал и и сделал бы так, чтобы эти процессы не появлялись либо просто убирал с интервалом времени (bash или python скрипт)
7. Если выеснится, что это происходит со стороны приложения(разработали с утечкой) тогда необходимо сообщить команеды инфраструктуры, команде разработки сообщается о проблеме с их стороны!
8. Если не со сторын разработки. Проверить доступность всех сервисов, потому что большое число процессов могут жадть ответа с стороних сервисов. Если есть те что имеют большой timeout(уменьшение времени задержки) или неправильно настроенно(постоино не оптимально), либо выделено неправильное количество ресурсов (проверить все рисурсы в спецификациях namespace)
9. Если не получается ничего из выше изложенного и уровень ошибки critical. Тогда необходимо сообщить об этом команде разработки и инфраструктуры, чтобы можно было колективно решить эту критическую проблему.
